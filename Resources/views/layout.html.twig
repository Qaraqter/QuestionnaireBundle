{% extends '@Questionnaire/layout/template.content.html.twig' %}

{% block styles %}
    <link rel="stylesheet" href="{{ asset('bundles/qaraqterquestionnaire/css/main.css') }}">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
{% endblock %}

{% block script %}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>
        {% set url = asset('bundles/qaraqterquestionnaire/js/vendor/jquery-1.10.2.min.js') %}
        window.jQuery || document.write('<script src="{{ url }}"><\/script>')
    </script>

    <script src="//ajax.aspnetcdn.com/ajax/jquery.validate/1.12.0/jquery.validate.min.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/jquery.validate/1.12.0/localization/messages_nl.js"></script>

    <script src="{{ asset('bundles/qaraqterquestionnaire/js/main.js') }}"></script>
    <script>
        new Questionnaire({
            checkboxes: $('#questionnaire input[type="radio"], #questionnaire input[type="checkbox"]'),
            scaleTable: $('#questionnaire table[data-type="scale"]'),
            other: $('#questionnaire .other'),
            selectRequired: "--- Selecteer een optie ---",
            uncheckRadio: true,
            allowedAnswers: {{ form.vars.value.question.allowedAnswers|default(null) }}
        });
    </script>
{% endblock %}

{% block flash %}
	{% set error = app.session.flashbag.get('error') %}
	{% if (error is not empty) %}
		<div class="alert alert-danger alert-dismissible" role="alert">
			<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			<ol>
				{% for flashMessage in error %}
					<li>{{ flashMessage }}</li>
				{% endfor %}
			</ol>
		</div>
	{% endif %}

	{% set notice = app.session.flashbag.get('notice') %}
	{% if (notice is not empty) %}
		<div class="alert alert-info alert-dismissible" role="alert">
			<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			<ol>
				{% for flashMessage in notice %}
					<li>{{ flashMessage }}</li>
				{% endfor %}
			</ol>
		</div>
	{% endif %}
{% endblock flash %}

{% block progress %}
    {% if form.progress is defined %}
        {{ form_widget(form.progress) }}
    {% endif %}
{% endblock progress %}
